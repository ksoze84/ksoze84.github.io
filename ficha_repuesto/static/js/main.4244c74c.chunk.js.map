{"version":3,"sources":["utils.js","App.js","Details.js","Login.js","reportWebVitals.js","index.js"],"names":["Input","props","className","icon","addClass","type","onChange","value","disabled","inputMode","pattern","placeholder","name","onKeyUp","onBlur","onKeyDown","list","max","size","readOnly","onClickIcon","onClick","info","IsActiveContext","React","createContext","menu_is_active","toggleActive","NavBar","menuOnClick","setState","state","Provider","this","children","Component","NavBarBrand","Consumer","noBurger","role","aria-label","aria-expanded","data-target","aria-hidden","NavBarMenu","id","toggleOnClick","Cargando","faCircle","transform","faSpinner","spin","inverse","text","ShowDato","heading","color","Dropdown","dropdownOn","isActive","dropdownOff","isActve","DropdownTrigger","onFocus","setTimeout","DropDownMenu","length","onSelect","DataEpysa","param_data_url","abort","controller","dataUrl","ef_empty_nulls","timeout","params","parameters","param","JSON","stringify","toLowerCase","procedure","Promise","r","Timeout","_exec","par","AbortController","undefined","newParam","comillas","fetch","method","headers","body","encodeURI","signal","true_false","toNumber","str","result","str_limpio","replace","isNaN","slice","numero","Number","NoImage","faImage","App","setFiltro","e","termino","target","isLoaded","data_source","exec","top","then","res","json","data","cerrarSesion","cookies","remove","path","redirect","conf","Cookies","error","message","to","faTools","faSearch","closeOnClick","get","window","location","reload","map","ListItem","item","Producto","Image","producto","Producto_proveedor_habitual","Nombre","useState","dprId","setDprId","DPR_ID","console","log","src","alt","Details","cargarImagenes","savedImages","editar","oldDato","cloneDeep","edit","cancelEdit","uploadedImages","lastUpload","setSuggest","newModel","deleteImage","filter","deleteImageSaved","deleted","changeSuggest","t","suggestModelos","modelos","modelo","includes","setDato","newDato","deleteModelo","modelos_aplicable","addModelo","preventDefault","push","uploadImage","reader","FileReader","file","files","onloadend","imageTituloPreview","newUpImages","preview","readAsDataURL","guardar","guardando","subiendo","FormData","i","forEach","resp","ok","admins","previewSaved","parse","parametro","Valor_texto","n","imagenesExtra","DPR_Seleccion","uploading","admin","user","ubicacion","faArrowLeft","form","encType","onSubmit","rows","maxLength","DPR_Nombre","accept","faUpload","costo","toFixed","toLocaleString","stock","fecha","faAngleDoubleUp","u","Descripcion_detallada","faTimes","faPlus","Login","setValues","event","tryLogin","auto","autologin","isLoading","nombre_usuario","unescape","encodeURIComponent","usuario","contrasena","password","md5","estado","nombre","split","apellidos","expiryDate","Date","setMonth","getMonth","set","expires","onEnter","keyCode","wv_id","decodeURIComponent","wv_ps","wv_login","envia_enabled","redirect_","cl","faUser","faKey","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Main","urlParams","URLSearchParams","search","basename","process","About","Detalle","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4244c74c.chunk.js","sourcesContent":["import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSpinner, faCircle, faImage } from '@fortawesome/free-solid-svg-icons'\r\n\r\nfunction Input(props)\r\n{\r\n  return (\r\n    <div className=\"field\">\r\n      <p className={\"control \" + (props.icon ? \"has-icons-right\" : \"\")}>\r\n        <input \r\n          className={\"input is-small \" + props.addClass + \" \" + (props.type === \"number\" ? \"has-text-right\" : \"\")} \r\n          onChange={props.onChange} \r\n          value={props.value} \r\n          disabled={props.disabled}\r\n          type={props.type === \"number\" ? \"text\" : props.type }     \r\n          inputMode={ props.type === \"number\" ? \"numeric\" : \"text\" } \r\n          pattern = { props.type === \"number\" ? \"[0-9]+([,.][0-9]+)?\" : \".*\" }\r\n          placeholder={props.placeholder} \r\n          name={props.name}\r\n          onKeyUp={props.onKeyUp}\r\n          onBlur={props.onBlur}\r\n          onKeyDown={props.onKeyDown}\r\n          list={props.list}\r\n          max={props.max}\r\n          size={props.size}\r\n          readOnly={props.readOnly} />\r\n        { props.icon &&\r\n          <span className={\"icon is-small is-right\" + ( props.onClickIcon ? \" icon-clickable\":\"\")} onClick={props.onClickIcon}>\r\n            <FontAwesomeIcon icon={props.icon} />\r\n          </span>\r\n        }\r\n        {props.info}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst IsActiveContext = React.createContext({ menu_is_active : false, toggleActive: () => {}  });\r\n\r\nclass NavBar extends React.Component\r\n{\r\n  constructor(props)\r\n  {\r\n    super(props);\r\n    this.state = { menu_is_active  : false };\r\n  }\r\n\r\n  menuOnClick = () => {\r\n    this.setState(state => ({\r\n      menu_is_active: !state.menu_is_active\r\n    }));\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <nav className=\"navbar is-fixed-top is-primary\">\r\n        <div className=\"container\">\r\n          <IsActiveContext.Provider value={{menu_is_active: this.state.menu_is_active, toggleActive : this.menuOnClick }}>\r\n            {this.props.children}\r\n          </IsActiveContext.Provider>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nfunction NavBarBrand(props){\r\n    return <IsActiveContext.Consumer>\r\n            { ({menu_is_active, toggleActive}) =>\r\n              <div className=\"navbar-brand\">\r\n                {props.children}\r\n                { ! props.noBurger &&\r\n                <div role=\"button\" className={\"navbar-burger burger\" + ( menu_is_active === true ? \" is-active\" : \"\" ) } aria-label=\"menu\" aria-expanded=\"false\" data-target=\"navbarMenu_\" onClick={toggleActive}>\r\n                  <span aria-hidden=\"true\"></span>\r\n                  <span aria-hidden=\"true\"></span>\r\n                  <span aria-hidden=\"true\"></span>\r\n                </div> }\r\n              </div> }\r\n          </IsActiveContext.Consumer>;\r\n}\r\n\r\nfunction NavBarMenu(props){\r\n    return <IsActiveContext.Consumer>\r\n            { value =>\r\n              <div className={\"navbar-menu\" + ( value.menu_is_active === true ? \" is-active\" : \"\" ) } id=\"navbarMenu_\" onClick={ props.toggleOnClick ? value.toggleActive : null }>\r\n                {props.children}\r\n              </div> }\r\n          </IsActiveContext.Consumer>;\r\n}\r\n\r\nfunction Cargando(props){\r\n  return (\r\n  <div className=\"cargando-container\">\r\n    <div className=\"\">\r\n      <div className=\"fa-layers fa-fw\">\r\n        <FontAwesomeIcon icon={faCircle} transform=\"grow-8\"/>\r\n        <FontAwesomeIcon icon={faSpinner} spin inverse />\r\n      </div>  \r\n      <span> {props.text ? props.text : \"Cargando\"} ...</span>\r\n    </div>\r\n  </div>);\r\n}\r\n\r\nfunction ShowDato(props)\r\n{\r\n  return   <div className={props.className}>\r\n            <div>\r\n              <p className=\"heading\">{props.heading}</p>\r\n              <div className={\"subtitle \" + props.color}>{props.children}</div>\r\n            </div>\r\n          </div>;\r\n}\r\n\r\n//depende de Bulma\r\nclass Dropdown extends React.Component\r\n{\r\n  constructor(props)\r\n  {\r\n    super();\r\n    this.state = { isActive : false }\r\n  }\r\n\r\n  dropdownOn = () => this.setState({isActive: true});\r\n\r\n  dropdownOff = () => this.setState({isActive: false});\r\n\r\n  render()\r\n  {\r\n    const isActve = this.state.isActive\r\n    return  <div className={\"dropdown \" + ( isActve ? \"is-active\" : \"\" )}>\r\n              {this.props.children({dropdownOn: this.dropdownOn, dropdownOff: this.dropdownOff})}\r\n            </div>\r\n  }\r\n}\r\n\r\nfunction DropdownTrigger(props)\r\n{\r\n  return  <div onFocus={props.dropdownOn} onBlur={() => setTimeout(props.dropdownOff, 150)} className=\"dropdown-trigger\">\r\n            {props.children}\r\n          </div>;\r\n}\r\n\r\nfunction DropDownMenu(props)\r\n{\r\n  return  <>\r\n            {(props.children && props.children.length > 0 ) && \r\n            <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\" onClick={props.onSelect ? props.onSelect : null}>\r\n              <div className=\"dropdown-content\">\r\n                {props.children}\r\n              </div>\r\n            </div>}\r\n          </>;\r\n}\r\n\r\nfunction ShowInput(props)\r\n{\r\n  return    <div className={props.className}>\r\n              <p className={\"heading is-size-7 \" + props.headingClass}>{props.heading}</p>\r\n              <div className={\"subtitle \" + props.color}>{props.children}</div>\r\n            </div>;\r\n}\r\n\r\n\r\nclass DataEpysa\r\n{\r\n  constructor(param_data_url)\r\n  {\r\n    if(param_data_url)\r\n      this.dataUrl = param_data_url;\r\n    else\r\n      this.dataUrl = \"https://sienet.epysa.cl/sie-android/Scripts/Inc/data.asp\";\r\n\r\n    this.ef_empty_nulls \t= true;\r\n    this.controller       = null;\r\n    this.timeout          = null;\r\n  }\r\n\r\n  abort = () => { if(this.controller) this.controller.abort(); }\r\n\r\n  set data_url(param_data_url)\r\n  {\r\n    this.dataUrl = param_data_url;\r\n  }\r\n\r\n  set emptyNulls(true_false)\r\n  {\r\n    this.ef_empty_nulls = ( true_false ?  true : false )\r\n  }\r\n\r\n  comillas(params)\r\n  {\r\n    const parameters = {...params};\r\n  \tfor (var param in parameters)\r\n  \t{\r\n  \t\tif ( typeof parameters[param] === 'string' && ( parameters[param] === \"\" || parameters[param] === null ) && this.ef_empty_nulls  )\r\n        parameters[param] = \"null\";\r\n      else if ( typeof parameters[param] === 'object' )\r\n        parameters[param] = \"'\" + JSON.stringify(parameters[param]) + \"'\";\r\n  \t\telse if( typeof parameters[param] === 'string' && parameters[param].toLowerCase()  !== \"null\" )\r\n  \t\t\tparameters[param] = \"'\" + parameters[param] + \"'\";\r\n    }\r\n    return parameters\r\n  }\r\n\r\n  async exec(procedure, parameters, timeout)\r\n  {\r\n    if (timeout)\r\n      return await new Promise( r => {   \r\n        this.Timeout = setTimeout( () => r(\r\n          this._exec(procedure,parameters)\r\n        ), timeout);\r\n      });\r\n    else\r\n      return await this._exec(procedure,parameters);\r\n  }\r\n\r\n\r\n\r\n  async _exec(procedure, parameters)\r\n  {\r\n    let param = \"\";\r\n\r\n    this.controller = new AbortController();\r\n\r\n    if (parameters === null || parameters === undefined)\r\n      parameters = {};\r\n\r\n  \tconst newParam = this.comillas(parameters);\r\n\r\n  \tnewParam.procedure = \"EXEC \" + procedure;\r\n\r\n    for (let par in newParam)\r\n    {\r\n      const value = newParam[par] === null || newParam[par] === undefined ? \"null\" : newParam[par] \r\n      param  = param + par + \"=\" + value + \"&\";\r\n    }\r\n\r\n    return await fetch( this.dataUrl,\r\n      {\r\n        method \t: 'POST',\r\n        headers : { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' },\r\n        body    : encodeURI(param),\r\n        signal  : this.controller.signal\r\n      });\r\n  }\r\n\r\n}\r\n\r\nfunction toMoney(n){\r\n  if (n || n === 0)\r\n    if ( isNaN(toNumber(n)) )\r\n      return n;\r\n    else\r\n      return Number(toNumber(n).toFixed(0)).toLocaleString();\r\n  else \r\n    return \"\";\r\n}\r\n\r\nfunction toNumber(str){\r\n\r\n  let result;\r\n  ////console.log(\"IN: \" + str + \" \" + typeof str)\r\n  if (typeof str === \"string\" )\r\n  {\r\n    const str_limpio  = str.replace( /,/g, \"\" )\r\n    if (! isNaN(str_limpio) && str.slice(-1) !== \".\" && str.length > 0 ){\r\n      const numero = Number( str_limpio );\r\n      result = isNaN(numero) ? str : numero;\r\n    } \r\n    else\r\n      result = str;\r\n  }\r\n  else result = str;\r\n  ////console.log(\"OUT: \" + result + \" \" + typeof result)\r\n  return result;\r\n}\r\n\r\nfunction toBinaryHex(str)\r\n{\r\n  return str.split(\"\").reduce((hex,c)=>hex+c.charCodeAt(0).toString(16).padStart(4,\"0\"),\"\")\r\n}\r\n\r\nfunction percent(n)\r\n{\r\n  if (n)\r\n    if ( typeof toNumber(n) !== \"number\" )\r\n      return n;\r\n    else\r\n      return Number( Number(n).toFixed(2)  );\r\n  else \r\n    return \"\";\r\n}\r\n\r\n\r\nfunction string_time(hr, mn)\r\n{\r\n  const horas   = hr ? hr : 0;\r\n  const minutos = mn ? mn : 0;\r\n  return horas + \":\" + ( minutos < 10 ? \"0\" +  minutos : minutos);\r\n}\r\n\r\n\r\nfunction Modal(props)\r\n{\r\n\r\n  return  <div className={\"modal \" + ( props.isActive ? \"is-active\" : \"\" )  }>\r\n            <div className=\"modal-background\" onClick={props.toggleActive}></div>\r\n            <div className=\"modal-content\">\r\n              {props.children}\r\n            </div>\r\n          </div>;\r\n}\r\n\r\nfunction NoImage()\r\n{\r\n  return  <div className=\"icon is-large has-text-grey-lighter\">\r\n            <FontAwesomeIcon icon={faImage} size=\"2x\" />\r\n          </div>\r\n}\r\n\r\nexport { Input, NavBar, NavBarBrand, DataEpysa, NavBarMenu, Dropdown, DropDownMenu, DropdownTrigger, toMoney, Cargando, Modal, toBinaryHex, ShowDato, ShowInput, percent, toNumber, string_time, NoImage}","\r\nimport React, { useState } from 'react';\r\nimport './App.sass';\r\nimport {DataEpysa, Cargando, NavBar, NavBarBrand, NavBarMenu, Input, NoImage} from './utils';\r\nimport Cookies from 'universal-cookie';\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport * as conf from './config.json';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSearch, faTools } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default class App extends React.Component \r\n{\r\n  constructor(props)\r\n  {\r\n    super();\r\n    this.data_source = new DataEpysa(conf.DataEpysa);\r\n    this.cookies = new Cookies();\r\n    this.state =\r\n    {\r\n      error         : null,\r\n      data          : [],\r\n      redirect      : null,\r\n      isLoaded      : false,\r\n      termino       : ''\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    this.data_source.exec(\r\n      'PRO_LISTA_FICHA_REPUESTO',\r\n      { top : 15 }\r\n    )\r\n      .then (res => res.json())\r\n      .then (\r\n        result => {\r\n          //console.log(result.data);\r\n          this.setState({\r\n            isLoaded  : true,\r\n            data      : result.data ? result.data : []\r\n          });\r\n        },\r\n        error => {\r\n          this.setState({\r\n            isLoaded  : true,\r\n            error\r\n          });\r\n        }\r\n      );\r\n  }\r\n\r\n  setFiltro = e =>{\r\n\r\n    const termino = e.target.value;\r\n    this.setState({isLoaded : false, termino : termino});\r\n\r\n    if ( termino.length > 2 ) {\r\n      this.data_source.abort();\r\n      this.data_source.exec(\r\n        'PRO_LISTA_FICHA_REPUESTO',\r\n        { top : 20, termino : termino }\r\n      )\r\n        .then (res => res.json())\r\n        .then (\r\n          result => {\r\n            if(result.data){\r\n              //console.log(result.data);\r\n              this.setState({\r\n                data      : result.data,\r\n                isLoaded  : true\r\n              });\r\n            }\r\n            else\r\n              this.setState({\r\n                data      : [],\r\n                isLoaded  : true\r\n              });\r\n          }\r\n        );\r\n    }\r\n\r\n    if ( termino === \"\" ) {\r\n      this.data_source.abort();\r\n      this.data_source.exec(\r\n        'PRO_LISTA_FICHA_REPUESTO',\r\n        { top : 15 }\r\n      )\r\n        .then (res => res.json())\r\n        .then (\r\n          result => {\r\n            if(result.data){\r\n              //console.log(result.data);\r\n              this.setState({\r\n                data      : result.data,\r\n                isLoaded  : true\r\n              });\r\n            }\r\n            else\r\n              this.setState({\r\n                data  : [],\r\n                isLoaded  : true\r\n              });\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  cerrarSesion = () => {\r\n    this.cookies.remove(\"login_state\", { path: '/'});\r\n    this.cookies.remove(\"user\", { path: '/'});\r\n    this.cookies.remove(\"nombre\", { path: '/'});\r\n    this.setState({redirect : \"logout\"});\r\n  }\r\n\r\n  render()\r\n  {\r\n    const { error, data, isLoaded, termino, redirect } = this.state;\r\n\r\n    if (error)\r\n      return <div className=\"app-error\">Error: {error.message}</div>;\r\n    if (redirect === \"logout\")      \r\n      return <Redirect to=\"/login\" />;\r\n    else\r\n      return <>\r\n        <NavBar>\r\n          <NavBarBrand>\r\n            <div className=\"navbar-item\" >\r\n              <span className=\"icon is-medium\">\r\n                <FontAwesomeIcon size=\"lg\" icon={faTools}/>\r\n              </span>\r\n              <span>Repuestos</span>\r\n            </div>\r\n            <div className=\"navbar-item\" >\r\n              <Input onChange={this.setFiltro} size=\"16\" icon={faSearch} value={termino} placeholder=\"Buscar\" type=\"text\" />\r\n            </div>\r\n          </NavBarBrand>\r\n          <NavBarMenu closeOnClick=\"true\" >\r\n            <div className=\"navbar-end\">              \r\n              <div className=\"navbar-item has-dropdown is-hoverable\">\r\n                <p className=\"navbar-link\">{ this.cookies.get(\"nombre\") }</p>\r\n                <div className=\"navbar-dropdown\">\r\n                  <div className=\"navbar-item\">\r\n                    <div className=\"buttons\">\r\n                      <button className=\"button is-danger is-light is-small\" onClick={this.cerrarSesion}>\r\n                        Cerrar Sesion\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"navbar-item\">\r\n                <div onClick={ () => window.location.reload() } className=\"has-text-grey-lighter\" >\r\n                  v16\r\n                </div>\r\n              </div>\r\n              \r\n            </div>\r\n        </NavBarMenu>\r\n        </NavBar>\r\n        <section className=\"section\">\r\n          <div className=\"container pt-2\">\r\n            { isLoaded ?\r\n                data.map( e => <ListItem item={e} key={e.Producto} /> ) \r\n              :\r\n              <Cargando /> }\r\n          </div>\r\n        </section>\r\n      </>;  \r\n    }\r\n  \r\n}\r\n\r\nfunction ListItem(props)\r\n{\r\n  const item          = props.item;\r\n\r\n  return  <Link to={\"/detalle?pro=\" + item.Producto} >\r\n            <div className=\"box is-flex mb-3\"> \r\n              <div className=\"list-image\" >\r\n                <Image producto={item.Producto_proveedor_habitual !== \"null\" ? item.Producto_proveedor_habitual : item.Producto } />\r\n              </div>\r\n              <div className=\"list-content\" >\r\n                <div className=\"box-row is-size-7\" >\r\n                  <strong>{item.Producto}</strong>\r\n                </div>\r\n                <div className=\"box-row is-size-7\" >\r\n                  {item.Nombre}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n}\r\n\r\n\r\nfunction Image(props){\r\n  const [ dprId, setDprId ] = useState();\r\n\r\n  useState( () =>{\r\n    const DataSource = new DataEpysa(conf.DataEpysa);\r\n    DataSource.exec(\r\n      'PRO_GET_DPR_ID',\r\n      { producto : props.producto } )\r\n      .then (res => res.json())\r\n      .then (\r\n        result => {\r\n          //console.log(result.data);\r\n        if ( result.data )\r\n          setDprId(result.data[0].DPR_ID);\r\n        else\r\n          console.log(result);\r\n        },\r\n        error => { console.log(\"error lista archivos\") }\r\n      )\r\n  }\r\n  , [props.producto] )\r\n\r\n  return dprId ? \r\n            <img className=\"image-extra\" src={ conf.showFile + dprId } alt=\"imagen principal\" />\r\n          :\r\n            <NoImage />\r\n}\r\n\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleDoubleUp, faArrowLeft, faPlus, faTimes, faTools, faUpload } from '@fortawesome/free-solid-svg-icons';\r\nimport { NavBar, NavBarBrand, DataEpysa, NoImage, ShowDato, toMoney, NavBarMenu, Input, Dropdown, DropdownTrigger, DropDownMenu } from './utils';\r\nimport { Link } from \"react-router-dom\";\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport * as conf from './config.json';\r\n\r\nexport default class Details extends React.Component\r\n{\r\n  constructor(props)\r\n  {\r\n    super();\r\n    this.data_source = new DataEpysa(conf.DataEpysa);\r\n    this.state =\r\n    {\r\n      error                 : null,\r\n      data                  : { modelos_aplicable : [] },\r\n      isLoaded              : false,\r\n      edit                  : false,\r\n      modelos               : [],\r\n      suggestModelos        : [],\r\n      imageTituloPreview    : null,\r\n      uploadedImages        : [{id : 0}],\r\n      savedImages           : [],\r\n      admins                : [],\r\n      lastUpload            : 0,\r\n      preview               : -1,\r\n      previewSaved          : -1,\r\n      guardando             : false,\r\n      subiendo              : false\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.data_source.exec(\r\n      'PRO_FICHA_REPUESTO',\r\n      { producto : this.props.producto }\r\n    )\r\n      .then (res => res.json())\r\n      .then (\r\n        result => {\r\n          //console.log(result.data);\r\n          if ( result.data && ! result.error  )\r\n          {\r\n            result.data[0].modelos_aplicable = result.data[0].modelos_aplicable ? JSON.parse( result.data[0].modelos_aplicable ) : [];\r\n            this.setState({\r\n              isLoaded  : true,\r\n              data      : result.data[0]\r\n            }, () => this.cargarImagenes() );\r\n\r\n          }\r\n          else\r\n            this.setState({ isLoaded  : true });\r\n\r\n        },\r\n        error => {\r\n          this.setState({\r\n            isLoaded  : true,\r\n            error\r\n          });\r\n        }\r\n      );\r\n\r\n    this.data_source.exec(\r\n      'PAR_GET_PARAMETRO',\r\n      { parametro : 'FCHRPADM' }\r\n    )\r\n      .then (res => res.json())\r\n      .then (\r\n        result => {\r\n          //console.log(result.data);\r\n          if ( result.data && ! result.error  )\r\n          {\r\n            this.setState({\r\n              admins      : result.data[0].Valor_texto ? JSON.parse(result.data[0].Valor_texto) : []\r\n            });\r\n          }\r\n          else\r\n            console.log(result)\r\n\r\n        },\r\n        error => {\r\n          this.setState({\r\n            isLoaded  : true,\r\n            error\r\n          });\r\n        }\r\n      );\r\n    \r\n    \r\n\r\n    this.data_source.exec(\r\n      'PRO_LISTA_MODELOS_BUSES',\r\n      { producto : this.props.producto }\r\n    )\r\n      .then (res => res.json())\r\n      .then (\r\n        result => {\r\n          //console.log(result.data);\r\n          if ( result.data && ! result.error  )\r\n          {\r\n            this.setState({ modelos : result.data });\r\n          }\r\n        },\r\n        error => {\r\n          console.log(error);\r\n          this.setState({\r\n            error\r\n          });\r\n        }\r\n      );\r\n  }\r\n\r\n  cargarImagenes = () =>{\r\n    console.log(this.state.data);\r\n    this.data_source.exec(\r\n      'PRO_IMAGENES_FICHA_REPUESTO',\r\n      { producto : this.state.data.Producto_proveedor_habitual !== \"null\" ? this.state.data.Producto_proveedor_habitual : this.props.producto  }\r\n    )\r\n      .then (res => res.json())\r\n      .then (\r\n        result => {\r\n          //console.log(result.data);\r\n          if ( result.data && ! result.error  ){\r\n            this.setState({ savedImages : result.data });\r\n          }\r\n        },\r\n        error => {\r\n          console.log(error);\r\n          this.setState({\r\n            error\r\n          });\r\n        }\r\n      );\r\n  }\r\n  \r\n  editar            = () => this.setState( state => ( { oldDato : cloneDeep(state.data), edit : true } ) )\r\n\r\n  cancelEdit        = () => this.setState( state => ( { data : state.oldDato, edit : false, uploadedImages : [{id : 0}], lastUpload : 0 } ) )\r\n\r\n  setSuggest        = (e) => this.setState( { newModel : e.target.id } );\r\n\r\n  deleteImage       = (id) => { this.setState( state => ( { uploadedImages : state.uploadedImages.filter( e => e.id !== id ) } ) ) }\r\n\r\n  deleteImageSaved  = (id) => { this.setState( state => ( { savedImages : state.savedImages.map( e => { \r\n    if ( e.DPR_ID === id ) \r\n      e.deleted = \"S\"; \r\n    return e  } ) } ) ) }\r\n\r\n\r\n  changeSuggest = (e) => {\r\n    const t       = e.target;\r\n    if ( t.value.length > 2 )\r\n      this.setState({ newModel : t.value, suggestModelos : this.state.modelos.filter ( item => item.modelo.toLowerCase().includes(t.value.toLowerCase()) ) });\r\n    else \r\n      this.setState({ newModel : t.value, suggestModelos : [] });\r\n  }\r\n\r\n  setDato = e =>{ this.setState( state => {\r\n\r\n    const newDato = cloneDeep( state.data ) ;\r\n    const t       = e.target;\r\n\r\n    newDato[t.name] = t.value;\r\n\r\n    return { data : newDato }\r\n\r\n  })}\r\n\r\n  deleteModelo = (modelo) => {\r\n    const newDato = cloneDeep( this.state.data ) ;\r\n    newDato.modelos_aplicable = newDato.modelos_aplicable.filter( e => e !== modelo )\r\n    this.setState({ data : newDato })\r\n  }\r\n\r\n  addModelo = (e) => { \r\n    e.preventDefault();\r\n    if ( this.state.newModel.length > 1 )\r\n    {\r\n      this.setState( state => {\r\n        const newDato = cloneDeep( state.data ) ;\r\n        newDato.modelos_aplicable.push( state.newModel );\r\n        return { data : newDato, newModel : \"\", suggestModelos : [] }\r\n      })\r\n    }\r\n  }\r\n\r\n  uploadImage = (e) => {\r\n    \r\n    const reader = new FileReader();\r\n    const file = e.target.files[0];\r\n    const name = e.target.name;\r\n\r\n    if (file){\r\n\r\n      reader.onloadend = () => {\r\n        this.setState(state=>{\r\n\r\n          if ( name === \"imageTituloUpLoad\" )\r\n            return { imageTituloPreview: reader.result }\r\n          else\r\n          {\r\n            const newUpImages = cloneDeep(state.uploadedImages);\r\n  \r\n            newUpImages[state.lastUpload].preview = reader.result;\r\n            newUpImages.push( { id: state.lastUpload + 1 } )\r\n            \r\n            return { uploadedImages : newUpImages, lastUpload : state.lastUpload + 1 } \r\n\r\n          }\r\n\r\n        });\r\n      }\r\n\r\n      reader.readAsDataURL(file);\r\n    }\r\n    \r\n  }\r\n\r\n  guardar = e => {\r\n    e.preventDefault();\r\n    this.setState( { guardando : true, subiendo : true, edit : false  } );\r\n    const data = new FormData(e.target);\r\n\r\n/*     console.log( typeof this.state.data.modelos_aplicable );\r\n    console.log( typeof this.state.data ); */\r\n\r\n    this.data_source.exec(\r\n      'PRO_GRABA_FICHA_REPUESTO',\r\n       this.state.data \r\n    )\r\n      .then (res => res.json())\r\n      .then (\r\n        result => {\r\n          //console.log(result.data);\r\n          if ( result.data && ! result.error  )\r\n            this.setState({ guardando : false });\r\n        },\r\n        error => {\r\n          console.log(error);\r\n          this.setState({\r\n            error\r\n          });\r\n        }\r\n      );\r\n\r\n      this.state.savedImages.filter( i => i.deleted && i.deleted === \"S\" )\r\n      .forEach( i => {\r\n\r\n          this.data_source.exec(\r\n            'PRO_FICHA_REPUESTO_BORRA_IMAGEN',\r\n            { id : i.DPR_ID }\r\n          )\r\n            .then (res => res.json())\r\n            .then (\r\n              result => {\r\n                //console.log(result.data);\r\n                if ( result.error )\r\n                  console.log(result);\r\n              },\r\n              error => {\r\n                //console.log(error);\r\n                this.setState({\r\n                  error\r\n                });\r\n              }\r\n            );\r\n\r\n      } );\r\n\r\n    fetch(conf.upload, {\r\n      method: 'POST',\r\n      body: data,\r\n    })\r\n      .then (\r\n        resp => {\r\n          if (resp.ok){\r\n            this.setState( { uploadedImages : [{id : 0}], lastUpload : 0, subiendo : false }, this.cargarImagenes() );\r\n            //this.setState();\r\n          }\r\n          else\r\n            console.log(resp);\r\n\r\n          this.data_source.exec(\r\n            'PRO_FICHA_REPUESTO_BORRA_IMAGEN',\r\n            { producto : this.state.data.Producto_proveedor_habitual }\r\n          )\r\n            .then (res => res.json())\r\n            .then (\r\n              result => {\r\n                //console.log(result.data);\r\n                if ( result.error  )\r\n                  console.log(result);\r\n              },\r\n              error => {\r\n                //console.log(error);\r\n                this.setState({\r\n                  error\r\n                });\r\n              }\r\n            );\r\n\r\n        },\r\n        error => console.log(error)\r\n      );\r\n  } \r\n\r\n  render()\r\n  {\r\n    const { data, \r\n            edit, \r\n            suggestModelos, \r\n            newModel, \r\n            imageTituloPreview, \r\n            savedImages, \r\n            uploadedImages, \r\n            lastUpload, \r\n            preview, \r\n            previewSaved,\r\n            guardando, \r\n            subiendo,\r\n            admins }  \r\n\r\n              = this.state;\r\n\r\n    const imagenesExtra = savedImages.filter (i => i.DPR_Seleccion === \"N\" && ( !i.deleted || i.deleted !== \"S\" ) );\r\n    const uploading     = guardando || subiendo ;\r\n    const admin         = admins.includes(this.props.user);\r\n    const ubicacion     = data.ubicacion ? JSON.parse(data.ubicacion) : null;\r\n\r\n    return  <>\r\n              <NavBar>\r\n                  <NavBarBrand noBurger={ ( edit || uploading ) ? true : false }>\r\n                    <>\r\n                      <div className=\"navbar-item\" >\r\n                      { ( !edit && !uploading ) &&\r\n                          <Link to=\"/\" className=\"has-text-white-bis\">\r\n                            <FontAwesomeIcon icon={faArrowLeft} size=\"lg\" />\r\n                          </Link>\r\n                      }\r\n                      </div>\r\n                      <div className=\"navbar-item\" >\r\n                        <span className=\"icon is-medium\">\r\n                          <FontAwesomeIcon size=\"lg\" icon={faTools}/>\r\n                        </span>\r\n                        <span>Repuesto</span>\r\n                      </div>\r\n                      { ( edit || uploading )  &&\r\n                          <div className=\"buttons\">\r\n                            <button type=\"submit\" form=\"form1\" className={\"button is-info\" + ( uploading ? \" is-loading\" : \"\" ) } disabled={uploading} >\r\n                              Guardar\r\n                            </button>\r\n                            <button className=\"button is-danger\" onClick={this.cancelEdit} disabled={uploading}>\r\n                              Cancelar\r\n                            </button>\r\n                          </div>\r\n                      }\r\n                    </>\r\n                </NavBarBrand>\r\n                <NavBarMenu toggleOnClick={true}>\r\n                  <div className=\"navbar-end\">\r\n                    <div className=\"navbar-item\">\r\n                      { ! edit &&\r\n                          <button className=\"button is-info\" onClick={this.editar}>\r\n                            Editar\r\n                          </button>\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                </NavBarMenu>\r\n              </NavBar>\r\n              <section className=\"section\">\r\n                <div className=\"container\">\r\n                  <form method=\"POST\" encType=\"multipart/form-data\" id=\"form1\" onSubmit={this.guardar}>\r\n                    <input type=\"hidden\" value={data.Producto_proveedor_habitual !== \"null\" ? data.Producto_proveedor_habitual : data.Producto } name=\"producto\" />\r\n                    <div className=\"cont-flex\">\r\n                      <div className=\"titulo\">\r\n                        <h1 className=\"title is-5\">{data.Producto}</h1>\r\n                        { edit && admin ?\r\n                            <textarea \r\n                              className=\"textarea is-small has-fixed-size\" \r\n                              name=\"Nombre\" \r\n                              rows=\"3\" \r\n                              value={data.Nombre} \r\n                              maxLength=\"1000\"\r\n                              onChange={this.setDato}  /> \r\n                          :\r\n                            <h2 className=\"subtitle is-6 has-text-centered\">{data.Nombre}</h2>\r\n                        }\r\n                        \r\n                        <div className=\"image-titulo-container\">\r\n                          { imageTituloPreview ?\r\n                              <img className=\"image-titulo\" src={imageTituloPreview} alt=\"imagen principal\" onClick={ () => this.setState({ preview : 9999}) } />\r\n                            : \r\n                            savedImages.length > 0 && savedImages[0].DPR_Seleccion === \"T\" ?\r\n                              <img className=\"image-titulo\" src={conf.showFile + savedImages[0].DPR_ID } alt={savedImages[0].DPR_Nombre} onClick={ () => this.setState({ previewSaved : savedImages[0].DPR_ID})} />\r\n                            :\r\n                              <NoImage />\r\n                          }\r\n                          { edit &&\r\n                              <div className=\"field image-upload\">\r\n                                <div className=\"file is-small is-primary is-boxed\">\r\n                                  <label className=\"file-label\">\r\n                                    <input className=\"file-input\" type=\"file\" name=\"imageTituloUpLoad\" onChange={this.uploadImage} accept=\"image/*\" />\r\n                                    <span className=\"file-cta\">\r\n                                      <span className=\"file-icon\">\r\n                                        <FontAwesomeIcon icon={faUpload} size=\"2x\" />\r\n                                      </span>\r\n                                    </span>\r\n                                  </label>\r\n                                </div>\r\n                              </div>\r\n                          }\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"datos\">\r\n                        <p className=\"title is-6\">Datos</p>\r\n                        <div className=\"columns is-mobile\">\r\n                          <ShowDato heading=\"N° Parte\" className=\"column is-half\">\r\n                              { data.Producto_proveedor_habitual !== \"null\" ? data.Producto_proveedor_habitual : \"Sin numero parte\" }\r\n                          </ShowDato>\r\n                          <ShowDato heading=\"Costo\" className=\"column is-half\">\r\n                            $ {toMoney(data.costo)}\r\n                          </ShowDato>\r\n                        </div>\r\n                        <div className=\"columns is-mobile\">\r\n                          <ShowDato heading=\"Stock\" className=\"column is-half\">\r\n                            {data.stock}\r\n                          </ShowDato>\r\n                          <ShowDato heading=\"Fecha ult. compra\" className=\"column is-half\">\r\n                            {data.fecha}\r\n                          </ShowDato>\r\n                        </div>\r\n                        <div className=\"columns is-mobile\">\r\n                          \r\n                          <ShowDato heading=\"Modelos buses\" className=\"column is-full is-flex\">\r\n                            { data.modelos_aplicable\r\n                                .map( e => edit ?\r\n                                            <div className=\"control mr-1 mb-1\" key={e}>\r\n                                              <div className=\"tags has-addons\">\r\n                                                <span className=\"tag is-delete\" onClick={ () => this.deleteModelo(e) }></span>\r\n                                                <span className=\"tag is-primary is-light\">{e}</span>\r\n                                              </div>\r\n                                            </div>\r\n                                          :\r\n                                            <span key={e} className={\"tag is-primary is-light mr-1 mb-1\"}>\r\n                                              {e}\r\n                                            </span> )}\r\n                            { edit &&\r\n                                <Dropdown>\r\n                                  {(props) =>\r\n                                    <>\r\n                                      <div className=\"is-flex mt-2\">\r\n                                        <DropdownTrigger {...props}>\r\n                                          <Input \r\n                                            name=\"newModel\"\r\n                                            value={newModel}\r\n                                            onChange={this.changeSuggest} />\r\n                                        </DropdownTrigger>\r\n                                        <button name=\"btnAdd\" className=\"button is-small btn-add is-primary\" onClick={this.addModelo}>\r\n                                          <FontAwesomeIcon icon={faAngleDoubleUp} size=\"sm\" />\r\n                                        </button>\r\n                                      </div>                                    \r\n                                      <DropDownMenu {...props} onSelect={this.setSuggest}>\r\n                                        { suggestModelos.map( i => \r\n                                          <div id={i.modelo} className=\"dropdown-item\" key={i.modelo} >\r\n                                            {i.modelo}\r\n                                          </div>) }\r\n                                      </DropDownMenu>\r\n                                    </>\r\n                                  }\r\n                                </Dropdown>\r\n                              }\r\n                          </ShowDato>\r\n                        </div>\r\n                        { ubicacion &&\r\n                          <div className=\"columns is-mobile\">\r\n                            <ShowDato heading=\"Ubicación\" className=\"column is-full is-flex\">\r\n                              { ubicacion.map( u => u.ubicacion ) }\r\n                            </ShowDato>\r\n                          </div>\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"descripcion\">\r\n                      <p className=\"title is-6\">Descripción</p>\r\n                      { edit ?\r\n                          <textarea\r\n                            name=\"Descripcion_detallada\"\r\n                            className=\"textarea is-small\"\r\n                            rows=\"4\" \r\n                            value={data.Descripcion_detallada} \r\n                            maxLength=\"4090\"\r\n                            onChange={this.setDato} />\r\n                        :\r\n                          <p className=\"is-size-6\">{data.Descripcion_detallada ? data.Descripcion_detallada : \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"}</p>\r\n                      }\r\n                      \r\n                    </div>\r\n                    <div className=\"imagenes is-flex is-flex-wrap-wrap\">\r\n                      { imagenesExtra.length === 0 && uploadedImages.length === 1 && ! edit &&\r\n                          <>\r\n                            <div className=\"image\">\r\n                              <NoImage />\r\n                            </div>\r\n                            <div className=\"image\">\r\n                              <NoImage />\r\n                            </div>\r\n                            <div className=\"image\">\r\n                              <NoImage />\r\n                            </div>\r\n                          </>\r\n                      }\r\n                      { imagenesExtra\r\n                          .map( i =>  <div className=\"image\" key={i.DPR_ID}>\r\n                                        <img className=\"image-extra\" src={conf.showFile + i.DPR_ID } alt={i.DPR_Nombre} onClick={ () => this.setState({ previewSaved : i.DPR_ID}) } />\r\n                                        { edit &&\r\n                                          <div className=\"image-upload\">\r\n                                            <button className=\"button is-small is-danger\" onClick={ () => this.deleteImageSaved(i.DPR_ID) }>\r\n                                              <FontAwesomeIcon icon={faTimes} />\r\n                                            </button>\r\n                                          </div> }\r\n                                      </div> ) }\r\n                      { uploadedImages\r\n                          .map( i =>  <div className=\"image\" key={i.id}>\r\n                                        { edit ?\r\n                                            <>\r\n                                            <img className={\"image-extra \" + ( i.id === lastUpload ? \"is-hidden\" : \"\" )}  src={i.preview} alt=\"imagen secundaria\" />\r\n                                            <div className={\"image-upload \" + ( i.id === lastUpload ? \"is-hidden\" : \"\" )}>\r\n                                              <button className=\"button is-small is-danger\" onClick={ () => this.deleteImage(i.id) }>\r\n                                                <FontAwesomeIcon icon={faTimes} />\r\n                                              </button>\r\n                                            </div>\r\n                                            <div className={\"field image-upload \" + ( i.id !== lastUpload ? \"is-hidden\" : \"\" )}>\r\n                                              <div className=\"file is-small is-primary is-boxed\">\r\n                                                <label className=\"file-label\">\r\n                                                  <input className=\"file-input\" type=\"file\" name={\"imageUpLoad_\" + i.id} onChange={this.uploadImage} accept=\"image/*\" />\r\n                                                  <span className=\"file-cta\">\r\n                                                    <span className=\"file-icon\">\r\n                                                      <FontAwesomeIcon icon={faPlus} size=\"2x\" />\r\n                                                    </span>\r\n                                                  </span>\r\n                                                </label>\r\n                                              </div>\r\n                                            </div>\r\n                                            </>\r\n                                          :\r\n                                            <img className={\"image-extra \" + ( i.id === lastUpload ? \"is-hidden\" : \"\" )} src={i.preview} alt=\"imagen secundaria\" onClick={ () => this.setState({ preview : i.id}) } />\r\n                                        }\r\n                                      </div> ) } \r\n                      </div>\r\n                    <div className={\"modal \" + ( preview > -1 || previewSaved > -1 ? \"is-active\" : \"\" )} onClick={ () => this.setState({ preview : -1, previewSaved : -1}) } >\r\n                      <div className=\"modal-background\"></div>\r\n                      <div className=\"modal-content\">\r\n                        { preview > -1 &&\r\n                            <img src={ preview === 9999 ? imageTituloPreview : uploadedImages.filter(e => e.id === preview)[0].preview} alt=\"imagen modal\" /> }\r\n                        { previewSaved > -1 &&\r\n                            <img src={conf.showFile + previewSaved } alt=\"imagen modal\" />\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </section>\r\n            </>\r\n  }\r\n\r\n}","import React from 'react';\r\nimport './App.sass';\r\nimport { Input, NavBar, NavBarBrand, DataEpysa } from './utils.js';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUser, faKey } from '@fortawesome/free-solid-svg-icons'\r\nimport Cookies from 'universal-cookie';\r\nimport md5 from 'md5';\r\nimport * as conf from './config.json';\r\n\r\nclass Login extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n      super(props);\r\n      this.data_source = new DataEpysa(conf.DataEpysa);\r\n      this.cookies = new Cookies();\r\n      this.state =\r\n      {\r\n        error       : null,\r\n        redirect    : 0,\r\n        usuario     : this.props.wv_id ? decodeURIComponent( this.props.wv_id ) : \"\",\r\n        isLoading   : false,\r\n        password    : this.props.wv_ps ? this.props.wv_ps : \"\",\r\n        wv_login    : 0,\r\n        autologin   : false\r\n      }\r\n    }\r\n\r\n    setValues = (event) =>\r\n    {\r\n        const target = event.target;\r\n        this.setState( { [target.name] : target.value } );\r\n    }\r\n\r\n    componentDidMount(){\r\n      //console.log( \"autologin?: \" +  this.props.wv_id  );\r\n      if(this.props.wv_id)\r\n      {\r\n        this.setState ( {autologin : true} );\r\n        this.tryLogin();\r\n      }\r\n        \r\n    }\r\n\r\n    tryLogin = () =>\r\n    {\r\n\r\n      const auto = this.state.autologin;\r\n      this.setState({isLoading : true});\r\n      //console.log( this.props.wv_ps );\r\n      this.data_source.exec(\r\n        'USR_LOGIN',\r\n        { nombre_usuario  : unescape(encodeURIComponent( this.state.usuario )),\r\n          contrasena      : auto ? this.state.password : md5(this.state.password)\r\n        }\r\n      )\r\n        .then (res => res.json())\r\n        .then (\r\n          result => {\r\n            //console.log(result.data);\r\n            if(result.data[0].estado === \"ok\")\r\n            {\r\n\r\n              const info = result.data[0];\r\n              let name = info.nombre.split(\" \")[0] + \" \" + info.apellidos.split(\" \")[0]\r\n\r\n\r\n              let expiryDate = new Date();\r\n              expiryDate.setMonth(expiryDate.getMonth() + 6);\r\n\r\n              this.cookies.set(\"login_state\", true, { path: '/', expires : expiryDate  });\r\n              this.cookies.set(\"user\", this.state.usuario, { path: '/', expires : expiryDate  });\r\n              this.cookies.set(\"nombre\", name, { path: '/', expires : expiryDate  });\r\n              this.setState({ redirect : 1, isLoading  : false, autologin : false });\r\n            }\r\n            else\r\n              this.setState({ error : \"badUP\", isLoading  : false, autologin : false  });              \r\n          },\r\n          error => {\r\n            this.setState({\r\n              isLoading   : false,\r\n              autologin   : false, \r\n              error\r\n            });\r\n          }\r\n        );\r\n    }\r\n\r\n    onEnter = (event) => {\r\n      if(event.keyCode === 13)\r\n        this.tryLogin();\r\n    }\r\n\r\n    render()\r\n    {\r\n      const { error, isLoading, redirect, usuario, password } = this.state;\r\n      let envia_enabled = usuario && password;\r\n    \r\n      if (redirect === 1){\r\n        let redirect_ = <Redirect to=\"/\" />;\r\n        \r\n        if(this.props.id)\r\n          redirect_ = <Redirect to={\"/enegocio?id=\" + this.props.id} />;\r\n        else if ( this.props.cl)\r\n          redirect_ = <Redirect to={\"/?cl=\" + this.props.cl} />;\r\n        \r\n          return redirect_;\r\n      }\r\n      else if (error && error !== \"badUP\")\r\n        return <div className=\"app-error is-\">Error: {error.message}</div>;\r\n      else\r\n        return (\r\n          <>\r\n          <NavBar>\r\n            <NavBarBrand noBurger>\r\n              <div className=\"navbar-item\" >\r\n                <span className=\"icon is-medium\"><FontAwesomeIcon size=\"lg\" icon={faUser}/></span> \r\n                <span>Iniciar Sesión</span>\r\n              </div>\r\n            </NavBarBrand>\r\n          </NavBar>\r\n          <section className=\"section\">\r\n              <div className=\"container-login\">\r\n                <div className=\"box\">\r\n                    <Input name=\"usuario\" onChange={this.setValues} icon={faUser} placeholder=\"Nombre de usuario\" type=\"text\" />\r\n                    <Input name=\"password\" onChange={this.setValues} icon={faKey} placeholder=\"Contraseña\" type=\"password\" onKeyUp={this.onEnter} />\r\n                    {error === \"badUP\" && <p className=\"has-text-danger\">*Nombre de usuario y/o contraseña incorrectos.</p> }\r\n                    <div className=\"modal-buttons\"> \r\n                      <button className=\"button is-danger is-small\" onClick={this.tryLogin}>Cancelar</button>\r\n                      <button className={\"button is-primary is-small \" + ( isLoading && \"is-loading\" )} onClick={this.tryLogin} disabled={ !envia_enabled }>Aceptar</button>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n          </section>\r\n          </>\r\n        );\r\n    }\r\n} \r\n\r\nexport default Login;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import \"react-app-polyfill/ie11\";\r\nimport \"react-app-polyfill/stable\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport Details from './Details';\r\nimport Login from './Login';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Redirect,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\";\r\nimport Cookies from 'universal-cookie';\r\n\r\nexport default function Main(props) {\r\n  const cookies = new Cookies();\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const wv_id = urlParams.get('wv_id') ? urlParams.get('wv_id') : null;\r\n  const wv_ps = urlParams.get('wv_ps') ? urlParams.get('wv_ps') : null;\r\n  \r\n\r\n  let redirect;\r\n  \r\n  if ( cookies.get(\"login_state\") ){\r\n    let expiryDate = new Date();\r\n    expiryDate.setMonth(expiryDate.getMonth() + 6);\r\n    cookies.set(\"login_state\", true, { path: '/', expires : expiryDate  });\r\n    cookies.set(\"user\", cookies.get(\"user\"), { path: '/', expires : expiryDate  });\r\n    cookies.set(\"nombre\", cookies.get(\"nombre\"), { path: '/', expires : expiryDate  });\r\n  }\r\n  else\r\n    redirect = <Redirect to=\"/login\" />;\r\n  \r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n        <Switch>\r\n          <Route path=\"/about\">\r\n            <About />\r\n          </Route>\r\n          <Route path=\"/login\">\r\n            <Login wv_id={wv_id} wv_ps={wv_ps} />\r\n          </Route>\r\n          <Route path=\"/detalle\">\r\n            <Detalle user={cookies.get(\"user\")} />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <App />\r\n          </Route>\r\n        </Switch>\r\n      {redirect}\r\n    </Router>\r\n  );\r\n}\r\n\r\nfunction About() {\r\n  return <h2>Version 1.1</h2>;\r\n}\r\n\r\nfunction Detalle(props)\r\n{\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const p         = urlParams.get('pro') ?  urlParams.get('pro') : ''  ;\r\n\r\n  return <Details user={props.user} producto={p} />\r\n}\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Main />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals(console.log);\r\n"],"sourceRoot":""}